---
description: contracts,services,recurring;Manage recurring service contract relationships including services, bundles, and unit adjustments
globs: 
alwaysApply: false
---
---
description: contracts,services,recurring;Manage recurring service contract relationships including services, bundles, and unit adjustments
globs:
---

# Recurring Service Contract Entity Relationships

## Overview

A Recurring Service contract can have multiple associated Services (ContractService) or Service Bundles (ContractServiceBundle). The API provides four additional related entities:

- ContractServiceAdjustment
- ContractServiceBundleAdjustment
- ContractServiceUnit
- ContractServiceBundleUnit

> **Note:** ContractService and ContractServiceBundle entities serve equivalent functions for Services and Service Bundles within a contract. This equivalence extends to their respective Adjustment and Unit entities.

## Entity Relationships

### ContractService Entity

The ContractService entity defines the relationship between:
- An Autotask Service
- A Recurring Service type Contract

Key features:
- Specifies adjusted pricing for services on specific contracts
- Not mandatory for adding a Service to a contract
- Created automatically by the API when needed

### ContractServiceAdjustment Entity

This entity manages:
- Number of service units to add/remove
- Effective dates for changes
- Multiple adjustments possible over contract lifetime

### ContractServiceUnit Entity

Provides billing-related information:
- Tracks service units associated with contract periods
- Records date ranges for:
  - Contract period breaks
  - Unit quantity adjustments
- Generates billing units based on contract period type

## Example Workflow

Consider a Desktop Maintenance service:
1. Base service: $20/month per workstation
2. Initial setup:
   - Contract starts January 1
   - 10 workstations added via ContractServiceAdjustment
   - Effective from contract start date
3. Mid-period adjustment:
   - March 10: Add 2 workstations
   - System generates:
     - Units for March 1-9 (10 workstations)
     - Units for March 10-31 (12 workstations)
     - Subsequent months: 12 workstations

## Implementation Notes

1. Period Breaks:
   - Monthly contracts: Break at month end
   - Unit calculations adjust at period boundaries
   - Prorated calculations for mid-period changes

2. API Behaviour:
   - Automatic ContractService creation
   - Handles missing entity relationships
   - Maintains data integrity across adjustments

3. Best Practices:
   - Track effective dates carefully
   - Monitor period breaks for billing accuracy
   - Validate unit adjustments before submission
