---
description: attachments,files,upload;Learn how to manage file attachments using the Autotask REST API endpoints effectively
globs: 
alwaysApply: false
---
---
description: attachments,files,upload;Learn how to manage file attachments using the Autotask REST API endpoints effectively
globs:
---

# Attachment Operations

## Overview
The Autotask REST API provides comprehensive support for managing attachments across various entity types. This guide covers how to query, create, and delete attachments using the API.

## Key Concepts

### Attachment Limits
- Individual file size: 6-7 MB maximum
- Rate limit: 10,000,000 bytes within a 5-minute period
- File types: Limited to Autotask-allowed file types

### Supported Parent Entities
Attachments can be associated with:

#### Entities Supporting Nested Attachments
- Articles
- Companies
- Configuration Items
- Documents
- Opportunities
- Tasks
- Tickets

#### Entities Without Nested Attachment Support
- Account
- Sales Order
- Expense Report
- Resource
- Account Note
- Contract Note
- Project
- Project Note

## AttachmentInfo Entity
The AttachmentInfo entity describes attachment metadata in Autotask:
- Read-only entity
- Used for querying attachment details
- Cannot be directly updated

### Key Fields
```json
{
    "id": "Attachment identifier",
    "attachDate": "Creation timestamp",
    "attachedByContactID": "Contact creator ID",
    "attachedByResourceID": "Resource creator ID",
    "attachmentType": "FILE_ATTACHMENT",
    "contentType": "MIME type",
    "fileSize": "Size in bytes",
    "fullPath": "File name and path",
    "parentID": "Parent entity ID",
    "title": "Attachment title"
}
```

## Common Operations

### Querying Attachments
```powershell
# Get all attachments for a parent ID
GET /atservicesrest/v1.0/AttachmentInfo/query?search={"filter":[{"op":"eq","field":"ParentID","value":123}]}

# Get specific attachment data
GET /atservicesrest/v1.0/AttachmentInfo/456
```

### Creating Attachments
```powershell
# Standard attachment creation
POST /atservicesrest/v1.0/Tickets/123/Attachments
Content-Type: application/json

{
    "attachmentType": "FILE_ATTACHMENT",
    "fullPath": "example.txt",
    "publish": 1,
    "title": "Example Document",
    "data": "base64_encoded_content"
}
```

### Deleting Attachments
```powershell
# Remove an attachment
DELETE /atservicesrest/v1.0/Tickets/123/Attachments/456
```

## Best Practices
1. Always encode file content as base64 when creating attachments
2. Monitor file size limits to prevent API rejections
3. Implement proper error handling for rate limits
4. Use appropriate impersonation headers when needed
5. Verify parent entity support before attempting operations

## Error Handling
Common error scenarios:
- 400: Invalid request format or file size exceeded
- 401: Authentication failure
- 403: Insufficient permissions
- 429: Rate limit exceeded (5-minute cooldown period)

## Related Documentation
- See authentication guide for API credentials setup
- Refer to entity documentation for supported attachment types
- Check rate limiting documentation for threshold details
